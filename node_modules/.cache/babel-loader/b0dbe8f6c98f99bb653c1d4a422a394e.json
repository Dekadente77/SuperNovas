{"ast":null,"code":"var _jsxFileName = \"/home/vinacho/Dev/SuperNovas/src/components/ClaimButtons.js\";\nimport React from \"react\";\nimport '../styles/Global.css';\nimport '../styles/Metamask.css';\nimport { Button, TextField, Fab } from '@material-ui/core';\nimport detectEthereumProvider from '@metamask/detect-provider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Web3 = require('web3'); // TEST\n// const OPENSEA_WEB = \"https://testnets.opensea.io/assets/0xbEA8123277142dE42571f1fAc045225a1D347977/\";\n//const NFT_CONTRACT_ADDRESS = \"0xbEA8123277142dE42571f1fAc045225a1D347977\"; //test\n// MAINNET\n//const OPENSEA_WEB = \"https://opensea.io/assets/0xbEA8123277142dE42571f1fAc045225a1D347977/\";\n\n\nconst NFT_CONTRACT_ADDRESS = \"0xc13F4F0F865bAc08F62654B57E38669EbC4747a3\";\nconst CRATES_CONTRACT_ADDRESS = \"0xC50F11281b0821E5a9AD3DD77C33Eaf82d3094f4\";\nconst NFT_ABI = [{\n  \"inputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"constructor\"\n}, {\n  \"anonymous\": false,\n  \"inputs\": [{\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"owner\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"spender\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": false,\n    \"internalType\": \"uint256\",\n    \"name\": \"value\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"Approval\",\n  \"type\": \"event\"\n}, {\n  \"anonymous\": false,\n  \"inputs\": [{\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"previousOwner\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"newOwner\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"OwnershipTransferred\",\n  \"type\": \"event\"\n}, {\n  \"anonymous\": false,\n  \"inputs\": [{\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"from\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"to\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": false,\n    \"internalType\": \"uint256\",\n    \"name\": \"value\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"Transfer\",\n  \"type\": \"event\"\n}, {\n  \"inputs\": [],\n  \"name\": \"BASE_RATE\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"DystoAddress\",\n  \"outputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"END\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"INITIAL_ISSUANCE\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"MAX_CLAIM\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"START\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"owner\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"address\",\n    \"name\": \"spender\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"allowance\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"spender\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"approve\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"account\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"balanceOf\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"burn\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"account\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"burnFrom\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"claim\",\n  \"outputs\": [],\n  \"stateMutability\": \"payable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"decimals\",\n  \"outputs\": [{\n    \"internalType\": \"uint8\",\n    \"name\": \"\",\n    \"type\": \"uint8\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"spender\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"subtractedValue\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"decreaseAllowance\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"spender\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"addedValue\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"increaseAllowance\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"lastUpdate\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"name\",\n  \"outputs\": [{\n    \"internalType\": \"string\",\n    \"name\": \"\",\n    \"type\": \"string\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"owner\",\n  \"outputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"punkid\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"punkCreds\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"renounceOwnership\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"to\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"reservedCreds\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"saleIsActive\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"newState\",\n    \"type\": \"bool\"\n  }],\n  \"name\": \"setSaleState\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"symbol\",\n  \"outputs\": [{\n    \"internalType\": \"string\",\n    \"name\": \"\",\n    \"type\": \"string\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"ownwer\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"totalAvailable\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"totalSupply\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"recipient\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"transfer\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"sender\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"address\",\n    \"name\": \"recipient\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"transferFrom\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"newOwner\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"transferOwnership\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"unclaimedCreds\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}];\nconst style = {\n  backgroundColor: '#ffff02',\n  color: '#000000',\n  fontSize: 'calc(12px + 2vmin)',\n  fontFamily: 'lemon',\n  boxShadow: 'none',\n  borderRadius: '10px',\n  marginTop: '20px',\n  '&:hover': {\n    backgroundColor: '#8CFF9B',\n    color: '#ffffff',\n    boxShadow: 'none'\n  }\n};\nconst styleClaim = {\n  backgroundColor: '#ffff02',\n  color: '#000000',\n  fontSize: 'calc(12px + 2vmin)',\n  fontFamily: 'lemon',\n  boxShadow: 'none',\n  borderRadius: '10px',\n  margin: '0 10px 0 0',\n  '&:hover': {\n    backgroundColor: '#27D3CB',\n    color: '#ffffff',\n    boxShadow: 'none'\n  }\n};\nconst styleBuy = {\n  backgroundColor: '#ffff02',\n  position: 'relative',\n  color: '#000000',\n  fontSize: 'calc(12px + 2vmin)',\n  fontFamily: 'lemon',\n  boxShadow: 'none',\n  borderRadius: '10px',\n  '&:hover': {\n    backgroundColor: '#8CFF9B',\n    color: '#ffffff',\n    boxShadow: 'none'\n  }\n};\nconst inputProps = {\n  min: 1,\n  max: 20\n};\n\nclass ClaimButtons extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleAccountsChanged = accounts => {\n      if (accounts.length === 0) {\n        this.setState({\n          currentAccount: null\n        });\n      } else if (accounts[0] !== this.state.currentAccount) {\n        this.setState({\n          currentAccount: accounts[0]\n        });\n        this.updateInitialStates();\n      }\n    };\n\n    this.connect = () => {\n      console.log(this.ethereum);\n\n      if (this.ethereum === null || this.ethereum === undefined) {\n        alert(\"no wallet\");\n        return;\n      }\n\n      if (this.state.currentAccount) {\n        console.log(\"account already connected\");\n        return;\n      }\n\n      this.ethereum.request({\n        method: 'eth_requestAccounts'\n      }).then(accounts => this.handleAccountsChanged(accounts)).catch(err => {\n        if (err.code === 4001) {\n          // EIP-1193 userRejectedRequest error\n          // If this happens, the user rejected the connection request.\n          console.log('Please connect to MetaMask.');\n        } else {\n          console.error(err);\n        }\n      });\n    };\n\n    this.buyCrates = (contractAddress, contractABI, numPurchase) => {\n      const account = this.state.currentAccount;\n\n      if (account === null) {\n        console.log('no account detected');\n        this.connect();\n        return;\n      }\n\n      numPurchase = parseInt(numPurchase);\n      this.setState({\n        isSendingTransaction: true\n      });\n      const encodedAdoptFunction = this.cratesContract.methods.mint(numPurchase).encodeABI();\n      const transactionOptions = {\n        from: account,\n        to: contractAddress,\n        data: encodedAdoptFunction,\n        value: 0\n      };\n      this.web3.eth.sendTransaction(transactionOptions, (err, transactionId) => {\n        if (err) {\n          console.log('Crates mint failed', err);\n          this.setState({\n            isSendingTransaction: false,\n            statusString: \"Crates mint failed!\"\n          });\n        } else {\n          console.log('Payment successful', transactionId);\n          this.setState({\n            isSendingTransaction: false,\n            statusString: \"Crates mint successful! Please check Metamask for details and refresh when its done.\"\n          });\n        }\n      }).on(\"confirmation\", (confirmationNumber, receipt) => {\n        console.log(\"on confirmation\", confirmationNumber);\n        window.location.reload(false);\n      });\n    };\n\n    this.aprobalCrates = (contractAddress, contractABI, numPurchase) => {\n      const account = this.state.currentAccount;\n\n      if (account === null) {\n        console.log('no account detected');\n        this.connect();\n        return;\n      }\n\n      numPurchase = parseInt(numPurchase);\n\n      if (numPurchase > 20 || numPurchase < 1) {\n        return;\n      }\n\n      this.setState({\n        isSendingTransaction: true\n      });\n      const amount = Web3.utils.toBN('77000000000000000000000000');\n      const encodedAdoptFunction = this.nftContract.methods.approve(CRATES_CONTRACT_ADDRESS, amount).encodeABI();\n      const transactionOptions = {\n        from: account,\n        to: contractAddress,\n        data: encodedAdoptFunction,\n        value: 0\n      };\n      this.web3.eth.sendTransaction(transactionOptions, (err, transactionId) => {\n        if (err) {\n          console.log('approve failed', err);\n          this.setState({\n            isSendingTransaction: false,\n            statusString: \"Payment failed!\"\n          });\n        } else {\n          console.log('approve successful', transactionId);\n          this.setState({\n            isSendingTransaction: false,\n            statusString: \"approve successful!.\"\n          });\n        }\n      });\n    };\n\n    this.claimCreds = (contractAddress, contractABI) => {\n      const account = this.state.currentAccount;\n\n      if (account === null) {\n        console.log('no account detected');\n        return;\n      }\n\n      this.setState({\n        isSendingTransaction: true\n      });\n      this.nftContract.methods.totalAvailable(this.state.currentAccount).call().then(unitPrice => {\n        const encodedAdoptFunction = this.nftContract.methods.claim().encodeABI();\n        const transactionOptions = {\n          from: account,\n          to: contractAddress,\n          data: encodedAdoptFunction,\n          value: 0\n        };\n        this.web3.eth.sendTransaction(transactionOptions, (err, transactionId) => {\n          if (err) {\n            console.log('Payment failed', err);\n            this.setState({\n              isSendingTransaction: false,\n              statusString: \"Transaction failed!\"\n            });\n          } else {\n            console.log('Payment successful', transactionId);\n            this.setState({\n              isSendingTransaction: false,\n              statusString: \"Claim successful! Please check Metamask for details and refresh when its done.\"\n            });\n          }\n        });\n      });\n    };\n\n    this.updateInitialStates = () => {\n      this.updateTotalAllowance();\n      this.updateHasSaleStarted();\n      this.updateIsAuthClaim();\n    };\n\n    this.updateTotalAllowance = () => {\n      console.log(\"called totalAllowance\");\n      this.nftContract.methods.allowance(this.state.currentAccount, CRATES_CONTRACT_ADDRESS).call().then(totalAllowance => {\n        totalAllowance = parseInt(Web3.utils.fromWei(totalAllowance, 'ether'));\n        this.setState({\n          totalAllowance: totalAllowance\n        });\n      });\n    };\n\n    this.updateHasSaleStarted = () => {\n      this.nftContract.methods.saleIsActive().call().then(hasSaleStarted => {\n        this.setState({\n          hasSaleStarted: hasSaleStarted\n        });\n      });\n    };\n\n    this.updateIsAuthClaim = () => {\n      this.nftContract.methods.totalAvailable(this.state.currentAccount).call().then(isAuthClaim => {\n        const credsAvaliable = Web3.utils.fromWei(isAuthClaim, 'ether');\n        console.log(credsAvaliable);\n        this.setState({\n          isAuthClaim: credsAvaliable\n        });\n      });\n    };\n\n    this.state = {\n      currentAccount: null,\n      totalAllowance: 0,\n      isSendingTransaction: false,\n      purchaseNumber: \"1\",\n      hasSaleStarted: false,\n      isMainnet: true,\n      statusString: null,\n      defaultValue: 1,\n      isAuthClaim: 0\n    };\n    this.textInput = {\n      value: 1\n    };\n    this.updateInput = this.updateInput.bind(this);\n  }\n\n  async handleClick() {\n    await this.buyCrates(NFT_CONTRACT_ADDRESS, NFT_ABI, this.textInput.value);\n  }\n\n  async handleAprobal() {\n    await this.aprobalCrates(NFT_CONTRACT_ADDRESS, NFT_ABI, this.textInput.value);\n  }\n\n  async handleClaim() {\n    await this.claimCreds(NFT_CONTRACT_ADDRESS, NFT_ABI, this.textInput.value);\n  }\n\n  async componentDidMount() {\n    if (this.ethereum) {\n      return;\n    }\n\n    this.ethereum = await detectEthereumProvider();\n\n    if (this.ethereum === null || this.ethereum !== window.ethereum) {\n      console.log(\"ethereum provider not detected\");\n      this.setState({\n        currentAccount: null\n      });\n      return;\n    }\n\n    this.web3 = new Web3(this.ethereum);\n\n    if (this.web3 === null) {\n      console.log('web 3 not found');\n      return;\n    }\n\n    this.nftContract = new this.web3.eth.Contract(NFT_ABI, NFT_CONTRACT_ADDRESS, {\n      gasLimit: \"1000000\"\n    });\n    this.connect();\n    /**********************************************************/\n\n    /* Handle chain (network) and chainChanged (per EIP-1193) */\n\n    /**********************************************************/\n\n    const chainId = await this.ethereum.request({\n      method: 'eth_chainId'\n    });\n\n    if (chainId !== \"0x1\") {\n      this.setState({\n        isMainnet: false\n      });\n    }\n\n    this.ethereum.on('chainChanged', handleChainChanged);\n    this.ethereum.on('accountsChanged', handleChainChanged);\n\n    function handleChainChanged(_chainId) {\n      // We recommend reloading the page, unless you must do otherwise\n      window.location.reload();\n    }\n    /***********************************************************/\n\n    /* Handle user accounts and accountsChanged (per EIP-1193) */\n\n    /***********************************************************/\n\n\n    this.ethereum.request({\n      method: 'eth_accounts'\n    }).then(accounts => this.handleAccountsChanged(accounts)).catch(err => {\n      // Some unexpected error.\n      // For backwards compatibility reasons, if no accounts are available,\n      // eth_accounts will return an empty array.\n      console.error(err);\n    }); // Note that this event is emitted on page load.\n    // If the array of accounts is non-empty, you're already\n    // connected.\n\n    this.ethereum.on('accountsChanged', () => this.handleAccountsChanged);\n  }\n\n  updateInput(evt) {\n    this.textInput = {\n      value: evt.target.value\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sticky-cta\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metamask\",\n          children: [\" \", this.state.hasSaleStarted, this.state.currentAccount ? /*#__PURE__*/_jsxDEV(Fab, {\n            style: style,\n            variant: \"extended\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: [this.state.currentAccount.substring(0, 6), \"...\", this.state.currentAccount.substring(this.state.currentAccount.length - 4)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 973,\n              columnNumber: 30\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 972,\n            columnNumber: 24\n          }, this) : /*#__PURE__*/_jsxDEV(Fab, {\n            style: style,\n            variant: \"extended\",\n            onClick: () => this.connect(),\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Connect metamask\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 977,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 976,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 970,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 969,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          noValidate: true,\n          autoComplete: \"off\",\n          children: [this.state.hasSaleStarted > 0 ? /*#__PURE__*/_jsxDEV(Button, {\n            style: styleBuy,\n            variant: \"contained\",\n            size: \"large\",\n            onClick: () => this.handleClick(),\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Mint Supernovas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 988,\n              columnNumber: 112\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 988,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 990,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              style: styleBuy,\n              variant: \"contained\",\n              size: \"large\",\n              onClick: () => this.handleClick(),\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Mint SuperNovas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 991,\n                columnNumber: 112\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 991,\n              columnNumber: 19\n            }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(TextField, {\n              style: {\n                maxWidth: \"100px\"\n              },\n              inputProps: {\n                style: {\n                  background: \"#fff\"\n                }\n              },\n              variant: \"filled\",\n              onChange: this.updateInput,\n              defaultValue: this.state.defaultValue,\n              margin: \"dense\",\n              size: \"small\",\n              requiered: \"true\",\n              type: \"number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 992,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              style: styleBuy,\n              variant: \"contained\",\n              size: \"large\",\n              onClick: () => this.handleClick(),\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Public Mint\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 993,\n                columnNumber: 100\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 993,\n              columnNumber: 7\n            }, this), \"\\xA0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 996,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 996,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 984,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 982,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 968,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ClaimButtons;","map":{"version":3,"sources":["/home/vinacho/Dev/SuperNovas/src/components/ClaimButtons.js"],"names":["React","Button","TextField","Fab","detectEthereumProvider","Web3","require","NFT_CONTRACT_ADDRESS","CRATES_CONTRACT_ADDRESS","NFT_ABI","style","backgroundColor","color","fontSize","fontFamily","boxShadow","borderRadius","marginTop","styleClaim","margin","styleBuy","position","inputProps","min","max","ClaimButtons","Component","constructor","props","handleAccountsChanged","accounts","length","setState","currentAccount","state","updateInitialStates","connect","console","log","ethereum","undefined","alert","request","method","then","catch","err","code","error","buyCrates","contractAddress","contractABI","numPurchase","account","parseInt","isSendingTransaction","encodedAdoptFunction","cratesContract","methods","mint","encodeABI","transactionOptions","from","to","data","value","web3","eth","sendTransaction","transactionId","statusString","on","confirmationNumber","receipt","window","location","reload","aprobalCrates","amount","utils","toBN","nftContract","approve","claimCreds","totalAvailable","call","unitPrice","claim","updateTotalAllowance","updateHasSaleStarted","updateIsAuthClaim","allowance","totalAllowance","fromWei","saleIsActive","hasSaleStarted","isAuthClaim","credsAvaliable","purchaseNumber","isMainnet","defaultValue","textInput","updateInput","bind","handleClick","handleAprobal","handleClaim","componentDidMount","Contract","gasLimit","chainId","handleChainChanged","_chainId","evt","target","render","substring","maxWidth","background"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,sBAAP;AACA,OAAO,wBAAP;AACA,SAAQC,MAAR,EAAgBC,SAAhB,EAA2BC,GAA3B,QAAqC,mBAArC;AACA,OAAOC,sBAAP,MAAmC,2BAAnC;;;AACA,MAAMC,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB,C,CAEA;AACA;AACC;AAED;AACA;;;AACA,MAAMC,oBAAoB,GAAG,4CAA7B;AACA,MAAMC,uBAAuB,GAAG,4CAAhC;AACA,MAAMC,OAAO,GAAE,CACd;AACC,YAAU,EADX;AAEC,qBAAmB,YAFpB;AAGC,UAAQ;AAHT,CADc,EAMd;AACC,eAAa,KADd;AAEC,YAAU,CACT;AACC,eAAW,IADZ;AAEC,oBAAgB,SAFjB;AAGC,YAAQ,OAHT;AAIC,YAAQ;AAJT,GADS,EAOT;AACC,eAAW,IADZ;AAEC,oBAAgB,SAFjB;AAGC,YAAQ,SAHT;AAIC,YAAQ;AAJT,GAPS,EAaT;AACC,eAAW,KADZ;AAEC,oBAAgB,SAFjB;AAGC,YAAQ,OAHT;AAIC,YAAQ;AAJT,GAbS,CAFX;AAsBC,UAAQ,UAtBT;AAuBC,UAAQ;AAvBT,CANc,EA+Bd;AACC,eAAa,KADd;AAEC,YAAU,CACT;AACC,eAAW,IADZ;AAEC,oBAAgB,SAFjB;AAGC,YAAQ,eAHT;AAIC,YAAQ;AAJT,GADS,EAOT;AACC,eAAW,IADZ;AAEC,oBAAgB,SAFjB;AAGC,YAAQ,UAHT;AAIC,YAAQ;AAJT,GAPS,CAFX;AAgBC,UAAQ,sBAhBT;AAiBC,UAAQ;AAjBT,CA/Bc,EAkDd;AACC,eAAa,KADd;AAEC,YAAU,CACT;AACC,eAAW,IADZ;AAEC,oBAAgB,SAFjB;AAGC,YAAQ,MAHT;AAIC,YAAQ;AAJT,GADS,EAOT;AACC,eAAW,IADZ;AAEC,oBAAgB,SAFjB;AAGC,YAAQ,IAHT;AAIC,YAAQ;AAJT,GAPS,EAaT;AACC,eAAW,KADZ;AAEC,oBAAgB,SAFjB;AAGC,YAAQ,OAHT;AAIC,YAAQ;AAJT,GAbS,CAFX;AAsBC,UAAQ,UAtBT;AAuBC,UAAQ;AAvBT,CAlDc,EA2Ed;AACC,YAAU,EADX;AAEC,UAAQ,WAFT;AAGC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CA3Ec,EAwFd;AACC,YAAU,EADX;AAEC,UAAQ,cAFT;AAGC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CAxFc,EAqGd;AACC,YAAU,EADX;AAEC,UAAQ,KAFT;AAGC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CArGc,EAkHd;AACC,YAAU,EADX;AAEC,UAAQ,kBAFT;AAGC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CAlHc,EA+Hd;AACC,YAAU,EADX;AAEC,UAAQ,WAFT;AAGC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CA/Hc,EA4Id;AACC,YAAU,EADX;AAEC,UAAQ,OAFT;AAGC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CA5Ic,EAyJd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,OAFT;AAGC,YAAQ;AAHT,GADS,EAMT;AACC,oBAAgB,SADjB;AAEC,YAAQ,SAFT;AAGC,YAAQ;AAHT,GANS,CADX;AAaC,UAAQ,WAbT;AAcC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAdZ;AAqBC,qBAAmB,MArBpB;AAsBC,UAAQ;AAtBT,CAzJc,EAiLd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,SAFT;AAGC,YAAQ;AAHT,GADS,EAMT;AACC,oBAAgB,SADjB;AAEC,YAAQ,QAFT;AAGC,YAAQ;AAHT,GANS,CADX;AAaC,UAAQ,SAbT;AAcC,aAAW,CACV;AACC,oBAAgB,MADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAdZ;AAqBC,qBAAmB,YArBpB;AAsBC,UAAQ;AAtBT,CAjLc,EAyMd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,SAFT;AAGC,YAAQ;AAHT,GADS,CADX;AAQC,UAAQ,WART;AASC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CATZ;AAgBC,qBAAmB,MAhBpB;AAiBC,UAAQ;AAjBT,CAzMc,EA4Nd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,QAFT;AAGC,YAAQ;AAHT,GADS,CADX;AAQC,UAAQ,MART;AASC,aAAW,EATZ;AAUC,qBAAmB,YAVpB;AAWC,UAAQ;AAXT,CA5Nc,EAyOd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,SAFT;AAGC,YAAQ;AAHT,GADS,EAMT;AACC,oBAAgB,SADjB;AAEC,YAAQ,QAFT;AAGC,YAAQ;AAHT,GANS,CADX;AAaC,UAAQ,UAbT;AAcC,aAAW,EAdZ;AAeC,qBAAmB,YAfpB;AAgBC,UAAQ;AAhBT,CAzOc,EA2Pd;AACC,YAAU,EADX;AAEC,UAAQ,OAFT;AAGC,aAAW,EAHZ;AAIC,qBAAmB,SAJpB;AAKC,UAAQ;AALT,CA3Pc,EAkQd;AACC,YAAU,EADX;AAEC,UAAQ,UAFT;AAGC,aAAW,CACV;AACC,oBAAgB,OADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CAlQc,EA+Qd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,SAFT;AAGC,YAAQ;AAHT,GADS,EAMT;AACC,oBAAgB,SADjB;AAEC,YAAQ,iBAFT;AAGC,YAAQ;AAHT,GANS,CADX;AAaC,UAAQ,mBAbT;AAcC,aAAW,CACV;AACC,oBAAgB,MADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAdZ;AAqBC,qBAAmB,YArBpB;AAsBC,UAAQ;AAtBT,CA/Qc,EAuSd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,SAFT;AAGC,YAAQ;AAHT,GADS,EAMT;AACC,oBAAgB,SADjB;AAEC,YAAQ,YAFT;AAGC,YAAQ;AAHT,GANS,CADX;AAaC,UAAQ,mBAbT;AAcC,aAAW,CACV;AACC,oBAAgB,MADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAdZ;AAqBC,qBAAmB,YArBpB;AAsBC,UAAQ;AAtBT,CAvSc,EA+Td;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADS,CADX;AAQC,UAAQ,YART;AASC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CATZ;AAgBC,qBAAmB,MAhBpB;AAiBC,UAAQ;AAjBT,CA/Tc,EAkVd;AACC,YAAU,EADX;AAEC,UAAQ,MAFT;AAGC,aAAW,CACV;AACC,oBAAgB,QADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CAlVc,EA+Vd;AACC,YAAU,EADX;AAEC,UAAQ,OAFT;AAGC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CA/Vc,EA4Wd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,QAFT;AAGC,YAAQ;AAHT,GADS,CADX;AAQC,UAAQ,WART;AASC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CATZ;AAgBC,qBAAmB,MAhBpB;AAiBC,UAAQ;AAjBT,CA5Wc,EA+Xd;AACC,YAAU,EADX;AAEC,UAAQ,mBAFT;AAGC,aAAW,EAHZ;AAIC,qBAAmB,YAJpB;AAKC,UAAQ;AALT,CA/Xc,EAsYd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,IAFT;AAGC,YAAQ;AAHT,GADS,EAMT;AACC,oBAAgB,SADjB;AAEC,YAAQ,QAFT;AAGC,YAAQ;AAHT,GANS,CADX;AAaC,UAAQ,eAbT;AAcC,aAAW,EAdZ;AAeC,qBAAmB,YAfpB;AAgBC,UAAQ;AAhBT,CAtYc,EAwZd;AACC,YAAU,EADX;AAEC,UAAQ,cAFT;AAGC,aAAW,CACV;AACC,oBAAgB,MADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CAxZc,EAqad;AACC,YAAU,CACT;AACC,oBAAgB,MADjB;AAEC,YAAQ,UAFT;AAGC,YAAQ;AAHT,GADS,CADX;AAQC,UAAQ,cART;AASC,aAAW,EATZ;AAUC,qBAAmB,YAVpB;AAWC,UAAQ;AAXT,CArac,EAkbd;AACC,YAAU,EADX;AAEC,UAAQ,QAFT;AAGC,aAAW,CACV;AACC,oBAAgB,QADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CAlbc,EA+bd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,QAFT;AAGC,YAAQ;AAHT,GADS,CADX;AAQC,UAAQ,gBART;AASC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CATZ;AAgBC,qBAAmB,MAhBpB;AAiBC,UAAQ;AAjBT,CA/bc,EAkdd;AACC,YAAU,EADX;AAEC,UAAQ,aAFT;AAGC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CAldc,EA+dd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,WAFT;AAGC,YAAQ;AAHT,GADS,EAMT;AACC,oBAAgB,SADjB;AAEC,YAAQ,QAFT;AAGC,YAAQ;AAHT,GANS,CADX;AAaC,UAAQ,UAbT;AAcC,aAAW,CACV;AACC,oBAAgB,MADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAdZ;AAqBC,qBAAmB,YArBpB;AAsBC,UAAQ;AAtBT,CA/dc,EAufd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,QAFT;AAGC,YAAQ;AAHT,GADS,EAMT;AACC,oBAAgB,SADjB;AAEC,YAAQ,WAFT;AAGC,YAAQ;AAHT,GANS,EAWT;AACC,oBAAgB,SADjB;AAEC,YAAQ,QAFT;AAGC,YAAQ;AAHT,GAXS,CADX;AAkBC,UAAQ,cAlBT;AAmBC,aAAW,CACV;AACC,oBAAgB,MADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAnBZ;AA0BC,qBAAmB,YA1BpB;AA2BC,UAAQ;AA3BT,CAvfc,EAohBd;AACC,YAAU,CACT;AACC,oBAAgB,SADjB;AAEC,YAAQ,UAFT;AAGC,YAAQ;AAHT,GADS,CADX;AAQC,UAAQ,mBART;AASC,aAAW,EATZ;AAUC,qBAAmB,YAVpB;AAWC,UAAQ;AAXT,CAphBc,EAiiBd;AACC,YAAU,EADX;AAEC,UAAQ,gBAFT;AAGC,aAAW,CACV;AACC,oBAAgB,SADjB;AAEC,YAAQ,EAFT;AAGC,YAAQ;AAHT,GADU,CAHZ;AAUC,qBAAmB,MAVpB;AAWC,UAAQ;AAXT,CAjiBc,CAAf;AAgjBA,MAAMC,KAAK,GAAG;AACZC,EAAAA,eAAe,EAAE,SADL;AAEZC,EAAAA,KAAK,EAAE,SAFK;AAGZC,EAAAA,QAAQ,EAAE,oBAHE;AAIZC,EAAAA,UAAU,EAAE,OAJA;AAKZC,EAAAA,SAAS,EAAE,MALC;AAMZC,EAAAA,YAAY,EAAE,MANF;AAOZC,EAAAA,SAAS,EAAE,MAPC;AASZ,aAAW;AACPN,IAAAA,eAAe,EAAE,SADV;AAEPC,IAAAA,KAAK,EAAE,SAFA;AAGPG,IAAAA,SAAS,EAAE;AAHJ;AATC,CAAd;AAgBA,MAAMG,UAAU,GAAG;AACfP,EAAAA,eAAe,EAAE,SADF;AAEfC,EAAAA,KAAK,EAAE,SAFQ;AAGfC,EAAAA,QAAQ,EAAE,oBAHK;AAIfC,EAAAA,UAAU,EAAE,OAJG;AAKfC,EAAAA,SAAS,EAAE,MALI;AAMfC,EAAAA,YAAY,EAAE,MANC;AAOfG,EAAAA,MAAM,EAAE,YAPO;AASf,aAAW;AACPR,IAAAA,eAAe,EAAE,SADV;AAEPC,IAAAA,KAAK,EAAE,SAFA;AAGPG,IAAAA,SAAS,EAAE;AAHJ;AATI,CAAnB;AAgBA,MAAMK,QAAQ,GAAG;AACbT,EAAAA,eAAe,EAAE,SADJ;AAGbU,EAAAA,QAAQ,EAAE,UAHG;AAIbT,EAAAA,KAAK,EAAE,SAJM;AAKbC,EAAAA,QAAQ,EAAE,oBALG;AAMbC,EAAAA,UAAU,EAAE,OANC;AAObC,EAAAA,SAAS,EAAE,MAPE;AAQbC,EAAAA,YAAY,EAAE,MARD;AAUb,aAAW;AACPL,IAAAA,eAAe,EAAE,SADV;AAEPC,IAAAA,KAAK,EAAE,SAFA;AAGPG,IAAAA,SAAS,EAAE;AAHJ;AAVE,CAAjB;AAiBE,MAAMO,UAAU,GAAG;AACjBC,EAAAA,GAAG,EAAE,CADY;AAEjBC,EAAAA,GAAG,EAAE;AAFY,CAAnB;;AAKF,MAAMC,YAAN,SAA2BzB,KAAK,CAAC0B,SAAjC,CAA2C;AAEzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAkGnBC,qBAlGmB,GAkGMC,QAAD,IAAc;AACpC,UAAIA,QAAQ,CAACC,MAAT,KAAoB,CAAxB,EAA2B;AACzB,aAAKC,QAAL,CAAc;AACZC,UAAAA,cAAc,EAAE;AADJ,SAAd;AAGD,OAJD,MAIO,IAAIH,QAAQ,CAAC,CAAD,CAAR,KAAgB,KAAKI,KAAL,CAAWD,cAA/B,EAA+C;AACpD,aAAKD,QAAL,CAAc;AACZC,UAAAA,cAAc,EAAEH,QAAQ,CAAC,CAAD;AADZ,SAAd;AAGA,aAAKK,mBAAL;AACD;AAEF,KA9GkB;;AAAA,SAgHnBC,OAhHmB,GAgHT,MAAM;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,QAAjB;;AACA,UAAI,KAAKA,QAAL,KAAkB,IAAlB,IAA0B,KAAKA,QAAL,KAAkBC,SAAhD,EAA2D;AACzDC,QAAAA,KAAK,CAAC,WAAD,CAAL;AACA;AACD;;AACD,UAAI,KAAKP,KAAL,CAAWD,cAAf,EAA+B;AAC7BI,QAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACA;AACD;;AACD,WAAKC,QAAL,CACCG,OADD,CACS;AAAEC,QAAAA,MAAM,EAAE;AAAV,OADT,EAECC,IAFD,CAEOd,QAAD,IAAc,KAAKD,qBAAL,CAA2BC,QAA3B,CAFpB,EAGCe,KAHD,CAGQC,GAAD,IAAS;AACd,YAAIA,GAAG,CAACC,IAAJ,KAAa,IAAjB,EAAuB;AACrB;AACA;AACAV,UAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AAED,SALD,MAKO;AACLD,UAAAA,OAAO,CAACW,KAAR,CAAcF,GAAd;AACD;AACF,OAZD;AAaD,KAvIkB;;AAAA,SA0InBG,SA1ImB,GA0IP,CAACC,eAAD,EAAkBC,WAAlB,EAA+BC,WAA/B,KAA+C;AAIzD,YAAMC,OAAO,GAAG,KAAKnB,KAAL,CAAWD,cAA3B;;AAEA,UAAIoB,OAAO,KAAK,IAAhB,EAAsB;AACpBhB,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,aAAKF,OAAL;AACA;AACD;;AACDgB,MAAAA,WAAW,GAACE,QAAQ,CAACF,WAAD,CAApB;AAGA,WAAKpB,QAAL,CAAc;AACZuB,QAAAA,oBAAoB,EAAE;AADV,OAAd;AAKE,YAAMC,oBAAoB,GAAG,KAAKC,cAAL,CAAoBC,OAApB,CAA4BC,IAA5B,CAAiCP,WAAjC,EAA8CQ,SAA9C,EAA7B;AAEA,YAAMC,kBAAkB,GAAG;AACzBC,QAAAA,IAAI,EAAET,OADmB;AAEzBU,QAAAA,EAAE,EAAEb,eAFqB;AAGzBc,QAAAA,IAAI,EAAER,oBAHmB;AAIzBS,QAAAA,KAAK,EAAE;AAJkB,OAA3B;AAMA,WAAKC,IAAL,CAAUC,GAAV,CAAcC,eAAd,CAA8BP,kBAA9B,EAAkD,CAACf,GAAD,EAAMuB,aAAN,KAAwB;AACxE,YAAKvB,GAAL,EAAU;AACRT,UAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCQ,GAAlC;AACA,eAAKd,QAAL,CAAc;AACZuB,YAAAA,oBAAoB,EAAE,KADV;AAEZe,YAAAA,YAAY,EAAE;AAFF,WAAd;AAID,SAND,MAMO;AACLjC,UAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC+B,aAAlC;AACA,eAAKrC,QAAL,CAAc;AACZuB,YAAAA,oBAAoB,EAAE,KADV;AAEZe,YAAAA,YAAY,EAAE;AAFF,WAAd;AAID;AACF,OAdD,EAcGC,EAdH,CAcM,cAdN,EAcsB,CAACC,kBAAD,EAAqBC,OAArB,KAAiC;AACnDpC,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BkC,kBAA/B;AACAE,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AAEH,OAlBD;AAoBH,KAzLkB;;AAAA,SAyMnBC,aAzMmB,GAyMH,CAAC3B,eAAD,EAAkBC,WAAlB,EAA+BC,WAA/B,KAA+C;AAI7D,YAAMC,OAAO,GAAG,KAAKnB,KAAL,CAAWD,cAA3B;;AAEA,UAAIoB,OAAO,KAAK,IAAhB,EAAsB;AACpBhB,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,aAAKF,OAAL;AACA;AACD;;AACDgB,MAAAA,WAAW,GAACE,QAAQ,CAACF,WAAD,CAApB;;AACA,UAAIA,WAAW,GAAG,EAAd,IAAoBA,WAAW,GAAG,CAAtC,EAAyC;AACvC;AACD;;AAED,WAAKpB,QAAL,CAAc;AACZuB,QAAAA,oBAAoB,EAAE;AADV,OAAd;AAIE,YAAMuB,MAAM,GAAGzE,IAAI,CAAC0E,KAAL,CAAWC,IAAX,CAAgB,4BAAhB,CAAf;AACA,YAAMxB,oBAAoB,GAAG,KAAKyB,WAAL,CAAiBvB,OAAjB,CAAyBwB,OAAzB,CAAiC1E,uBAAjC,EAAyDsE,MAAzD,EAAiElB,SAAjE,EAA7B;AAEA,YAAMC,kBAAkB,GAAG;AACzBC,QAAAA,IAAI,EAAET,OADmB;AAEzBU,QAAAA,EAAE,EAAEb,eAFqB;AAGzBc,QAAAA,IAAI,EAAER,oBAHmB;AAIzBS,QAAAA,KAAK,EAAE;AAJkB,OAA3B;AAMA,WAAKC,IAAL,CAAUC,GAAV,CAAcC,eAAd,CAA8BP,kBAA9B,EAAkD,CAACf,GAAD,EAAMuB,aAAN,KAAwB;AACxE,YAAKvB,GAAL,EAAU;AACRT,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BQ,GAA9B;AACA,eAAKd,QAAL,CAAc;AACZuB,YAAAA,oBAAoB,EAAE,KADV;AAEZe,YAAAA,YAAY,EAAE;AAFF,WAAd;AAID,SAND,MAMO;AACLjC,UAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC+B,aAAlC;AACA,eAAKrC,QAAL,CAAc;AACZuB,YAAAA,oBAAoB,EAAE,KADV;AAEZe,YAAAA,YAAY,EAAE;AAFF,WAAd;AAKD;AACF,OAfD;AAiBH,KAvPkB;;AAAA,SAyPnBa,UAzPmB,GAyPN,CAACjC,eAAD,EAAkBC,WAAlB,KAAkC;AAI7C,YAAME,OAAO,GAAG,KAAKnB,KAAL,CAAWD,cAA3B;;AAEA,UAAIoB,OAAO,KAAK,IAAhB,EAAsB;AACpBhB,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA;AACD;;AAGD,WAAKN,QAAL,CAAc;AACZuB,QAAAA,oBAAoB,EAAE;AADV,OAAd;AAIA,WAAK0B,WAAL,CAAiBvB,OAAjB,CAAyB0B,cAAzB,CAAwC,KAAKlD,KAAL,CAAWD,cAAnD,EAAmEoD,IAAnE,GAA0EzC,IAA1E,CAAgF0C,SAAD,IAAe;AAC5F,cAAM9B,oBAAoB,GAAG,KAAKyB,WAAL,CAAiBvB,OAAjB,CAAyB6B,KAAzB,GAAiC3B,SAAjC,EAA7B;AAEA,cAAMC,kBAAkB,GAAG;AACzBC,UAAAA,IAAI,EAAET,OADmB;AAEzBU,UAAAA,EAAE,EAAEb,eAFqB;AAGzBc,UAAAA,IAAI,EAAER,oBAHmB;AAIzBS,UAAAA,KAAK,EAAE;AAJkB,SAA3B;AAMA,aAAKC,IAAL,CAAUC,GAAV,CAAcC,eAAd,CAA8BP,kBAA9B,EAAkD,CAACf,GAAD,EAAMuB,aAAN,KAAwB;AACxE,cAAKvB,GAAL,EAAU;AACRT,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BQ,GAA9B;AACA,iBAAKd,QAAL,CAAc;AACZuB,cAAAA,oBAAoB,EAAE,KADV;AAEZe,cAAAA,YAAY,EAAE;AAFF,aAAd;AAID,WAND,MAMO;AACLjC,YAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC+B,aAAlC;AACA,iBAAKrC,QAAL,CAAc;AACZuB,cAAAA,oBAAoB,EAAE,KADV;AAEZe,cAAAA,YAAY,EAAE;AAFF,aAAd;AAID;AACF,SAdD;AAeD,OAxBD;AAyBD,KAlSkB;;AAAA,SAqSnBnC,mBArSmB,GAqSG,MAAM;AAC1B,WAAKqD,oBAAL;AACA,WAAKC,oBAAL;AACA,WAAKC,iBAAL;AACD,KAzSkB;;AAAA,SA2SnBF,oBA3SmB,GA2SI,MAAM;AAC3BnD,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACA,WAAK2C,WAAL,CAAiBvB,OAAjB,CAAyBiC,SAAzB,CAAmC,KAAKzD,KAAL,CAAWD,cAA9C,EAA6DzB,uBAA7D,EAAsF6E,IAAtF,GAA6FzC,IAA7F,CAAmGgD,cAAD,IAAoB;AACpHA,QAAAA,cAAc,GAAGtC,QAAQ,CAACjD,IAAI,CAAC0E,KAAL,CAAWc,OAAX,CAAmBD,cAAnB,EAAmC,OAAnC,CAAD,CAAzB;AACA,aAAK5D,QAAL,CAAc;AACZ4D,UAAAA,cAAc,EAAEA;AADJ,SAAd;AAGD,OALD;AAMD,KAnTkB;;AAAA,SAqTnBH,oBArTmB,GAqTI,MAAM;AAC3B,WAAKR,WAAL,CAAiBvB,OAAjB,CAAyBoC,YAAzB,GAAwCT,IAAxC,GAA+CzC,IAA/C,CAAqDmD,cAAD,IAAoB;AACtE,aAAK/D,QAAL,CAAc;AACZ+D,UAAAA,cAAc,EAAEA;AADJ,SAAd;AAGD,OAJD;AAKD,KA3TkB;;AAAA,SA6TnBL,iBA7TmB,GA6TC,MAAM;AACxB,WAAKT,WAAL,CAAiBvB,OAAjB,CAAyB0B,cAAzB,CAAwC,KAAKlD,KAAL,CAAWD,cAAnD,EAAmEoD,IAAnE,GAA0EzC,IAA1E,CAAgFoD,WAAD,IAAiB;AAC9F,cAAMC,cAAc,GAAG5F,IAAI,CAAC0E,KAAL,CAAWc,OAAX,CAAmBG,WAAnB,EAAgC,OAAhC,CAAvB;AACA3D,QAAAA,OAAO,CAACC,GAAR,CAAY2D,cAAZ;AACA,aAAKjE,QAAL,CAAc;AACZgE,UAAAA,WAAW,EAAEC;AADD,SAAd;AAGD,OAND;AAOD,KArUkB;;AAGjB,SAAK/D,KAAL,GAAa;AACXD,MAAAA,cAAc,EAAE,IADL;AAEX2D,MAAAA,cAAc,EAAE,CAFL;AAGXrC,MAAAA,oBAAoB,EAAE,KAHX;AAIX2C,MAAAA,cAAc,EAAE,GAJL;AAKXH,MAAAA,cAAc,EAAE,KALL;AAMXI,MAAAA,SAAS,EAAE,IANA;AAOX7B,MAAAA,YAAY,EAAE,IAPH;AAQX8B,MAAAA,YAAY,EAAE,CARH;AASXJ,MAAAA,WAAW,EAAE;AATF,KAAb;AAWA,SAAKK,SAAL,GAAiB;AAACpC,MAAAA,KAAK,EAAE;AAAR,KAAjB;AACA,SAAKqC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AAED;;AAGgB,QAAXC,WAAW,GAAG;AAClB,UAAM,KAAKvD,SAAL,CAAe1C,oBAAf,EAAqCE,OAArC,EAA6C,KAAK4F,SAAL,CAAepC,KAA5D,CAAN;AACD;;AAEkB,QAAbwC,aAAa,GAAG;AACpB,UAAM,KAAK5B,aAAL,CAAmBtE,oBAAnB,EAAyCE,OAAzC,EAAiD,KAAK4F,SAAL,CAAepC,KAAhE,CAAN;AACD;;AAEgB,QAAXyC,WAAW,GAAG;AAClB,UAAM,KAAKvB,UAAL,CAAgB5E,oBAAhB,EAAsCE,OAAtC,EAA8C,KAAK4F,SAAL,CAAepC,KAA7D,CAAN;AACD;;AAGsB,QAAjB0C,iBAAiB,GAAG;AAExB,QAAI,KAAKpE,QAAT,EAAmB;AACjB;AACD;;AAED,SAAKA,QAAL,GAAgB,MAAMnC,sBAAsB,EAA5C;;AACA,QAAI,KAAKmC,QAAL,KAAkB,IAAlB,IAA0B,KAAKA,QAAL,KAAkBmC,MAAM,CAACnC,QAAvD,EAAkE;AAChEF,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACA,WAAKN,QAAL,CAAc;AACZC,QAAAA,cAAc,EAAE;AADJ,OAAd;AAGA;AACD;;AAED,SAAKiC,IAAL,GAAY,IAAI7D,IAAJ,CAAS,KAAKkC,QAAd,CAAZ;;AAEA,QAAI,KAAK2B,IAAL,KAAc,IAAlB,EAAwB;AACtB7B,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA;AACD;;AACD,SAAK2C,WAAL,GAAmB,IAAI,KAAKf,IAAL,CAAUC,GAAV,CAAcyC,QAAlB,CACjBnG,OADiB,EAEjBF,oBAFiB,EAGjB;AAAEsG,MAAAA,QAAQ,EAAE;AAAZ,KAHiB,CAAnB;AAMA,SAAKzE,OAAL;AAEA;;AACA;;AACA;;AACA,UAAM0E,OAAO,GAAG,MAAM,KAAKvE,QAAL,CAAcG,OAAd,CAAsB;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAtB,CAAtB;;AACA,QAAImE,OAAO,KAAK,KAAhB,EAAuB;AACrB,WAAK9E,QAAL,CAAc;AAACmE,QAAAA,SAAS,EAAE;AAAZ,OAAd;AACD;;AAED,SAAK5D,QAAL,CAAcgC,EAAd,CAAiB,cAAjB,EAAiCwC,kBAAjC;AACA,SAAKxE,QAAL,CAAcgC,EAAd,CAAiB,iBAAjB,EAAoCwC,kBAApC;;AACA,aAASA,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC;AACAtC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD;AAED;;AACA;;AACA;;;AACA,SAAKrC,QAAL,CACGG,OADH,CACW;AAAEC,MAAAA,MAAM,EAAE;AAAV,KADX,EAEGC,IAFH,CAESd,QAAD,IAAc,KAAKD,qBAAL,CAA2BC,QAA3B,CAFtB,EAGGe,KAHH,CAGUC,GAAD,IAAS;AACd;AACA;AACA;AACAT,MAAAA,OAAO,CAACW,KAAR,CAAcF,GAAd;AACD,KARH,EA/CwB,CAyDxB;AACA;AACA;;AACA,SAAKP,QAAL,CAAcgC,EAAd,CAAiB,iBAAjB,EAAoC,MAAM,KAAK1C,qBAA/C;AAGD;;AA0ODyE,EAAAA,WAAW,CAACW,GAAD,EAAK;AACd,SAAKZ,SAAL,GAAe;AAACpC,MAAAA,KAAK,EAAEgD,GAAG,CAACC,MAAJ,CAAWjD;AAAnB,KAAf;AACD;;AAEDkD,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,+BACG;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,0BAA4B,KAAKjF,KAAL,CAAW6D,cAAvC,EACK,KAAK7D,KAAL,CAAWD,cAAX,gBACO,QAAC,GAAD;AAAK,YAAA,KAAK,EAAEvB,KAAZ;AAAmB,YAAA,OAAO,EAAC,UAA3B;AAAA,mCACM;AAAA,yBAAI,KAAKwB,KAAL,CAAWD,cAAX,CAA0BmF,SAA1B,CAAoC,CAApC,EAAuC,CAAvC,CAAJ,SAAkD,KAAKlF,KAAL,CAAWD,cAAX,CAA0BmF,SAA1B,CAAoC,KAAKlF,KAAL,CAAWD,cAAX,CAA0BF,MAA1B,GAAkC,CAAtE,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AADN;AAAA;AAAA;AAAA;AAAA,kBADP,gBAKO,QAAC,GAAD;AAAK,YAAA,KAAK,EAAErB,KAAZ;AAAmB,YAAA,OAAO,EAAC,UAA3B;AAAsC,YAAA,OAAO,EAAE,MAAM,KAAK0B,OAAL,EAArD;AAAA,mCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,cADF,eAcE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BAEE;AAAM,UAAA,UAAU,MAAhB;AAAiB,UAAA,YAAY,EAAC,KAA9B;AAAA,qBAGK,KAAKF,KAAL,CAAW6D,cAAX,GAA4B,CAA5B,gBACG,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAE3E,QAAf;AAAyB,YAAA,OAAO,EAAC,WAAjC;AAA6C,YAAA,IAAI,EAAC,OAAlD;AAA0D,YAAA,OAAO,EAAE,MAAM,KAAKoF,WAAL,EAAzE;AAAA,mCAA6F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA7F;AAAA;AAAA;AAAA;AAAA,kBADH,gBAGG;AAAA,oCAAK;AAAA;AAAA;AAAA;AAAA,oBAAL,eACA,QAAC,MAAD;AAAQ,cAAA,KAAK,EAAEpF,QAAf;AAAyB,cAAA,OAAO,EAAC,WAAjC;AAA6C,cAAA,IAAI,EAAC,OAAlD;AAA0D,cAAA,OAAO,EAAE,MAAM,KAAKoF,WAAL,EAAzE;AAAA,qCAA6F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA7F;AAAA;AAAA;AAAA;AAAA,oBADA,uBAEZ,QAAC,SAAD;AAAW,cAAA,KAAK,EAAE;AAACa,gBAAAA,QAAQ,EAAE;AAAX,eAAlB;AAAuC,cAAA,UAAU,EAAE;AAAE3G,gBAAAA,KAAK,EAAE;AAAE4G,kBAAAA,UAAU,EAAE;AAAd;AAAT,eAAnD;AAAqF,cAAA,OAAO,EAAC,QAA7F;AAAsG,cAAA,QAAQ,EAAE,KAAKhB,WAArH;AAAkI,cAAA,YAAY,EAAE,KAAKpE,KAAL,CAAWkE,YAA3J;AAA0K,cAAA,MAAM,EAAC,OAAjL;AAAyL,cAAA,IAAI,EAAC,OAA9L;AAAsM,cAAA,SAAS,EAAC,MAAhN;AAAuN,cAAA,IAAI,EAAC;AAA5N;AAAA;AAAA;AAAA;AAAA,oBAFY,eAGZ,QAAC,MAAD;AAAQ,cAAA,KAAK,EAAEhF,QAAf;AAAyB,cAAA,OAAO,EAAC,WAAjC;AAA6C,cAAA,IAAI,EAAC,OAAlD;AAA0D,cAAA,OAAO,EAAE,MAAM,KAAKoF,WAAL,EAAzE;AAAA,qCAA6F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA7F;AAAA;AAAA;AAAA;AAAA,oBAHY;AAAA;AAAA;AAAA;AAAA;AAAA,kBANR,eAYL;AAAA;AAAA;AAAA;AAAA,kBAZK,eAYA;AAAA;AAAA;AAAA;AAAA,kBAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,cAdF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAsCD;;AAvXwC;;AA2X3C,eAAe/E,YAAf","sourcesContent":["import React from \"react\"\nimport '../styles/Global.css';\nimport '../styles/Metamask.css'\nimport {Button, TextField, Fab} from '@material-ui/core';\nimport detectEthereumProvider from '@metamask/detect-provider';\nconst Web3 = require('web3');\n\n// TEST\n// const OPENSEA_WEB = \"https://testnets.opensea.io/assets/0xbEA8123277142dE42571f1fAc045225a1D347977/\";\n //const NFT_CONTRACT_ADDRESS = \"0xbEA8123277142dE42571f1fAc045225a1D347977\"; //test\n\n// MAINNET\n//const OPENSEA_WEB = \"https://opensea.io/assets/0xbEA8123277142dE42571f1fAc045225a1D347977/\";\nconst NFT_CONTRACT_ADDRESS = \"0xc13F4F0F865bAc08F62654B57E38669EbC4747a3\";\nconst CRATES_CONTRACT_ADDRESS = \"0xC50F11281b0821E5a9AD3DD77C33Eaf82d3094f4\";\nconst NFT_ABI =[\n\t{\n\t\t\"inputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"constructor\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"owner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"spender\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"value\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"Approval\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"previousOwner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"newOwner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"OwnershipTransferred\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"from\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"to\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"value\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"Transfer\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"BASE_RATE\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"DystoAddress\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"END\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"INITIAL_ISSUANCE\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"MAX_CLAIM\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"START\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"owner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"spender\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"allowance\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"spender\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"amount\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"approve\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"account\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"balanceOf\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"amount\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"burn\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"account\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"amount\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"burnFrom\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"claim\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"payable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"decimals\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint8\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint8\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"spender\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"subtractedValue\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"decreaseAllowance\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"spender\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"addedValue\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"increaseAllowance\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"lastUpdate\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"name\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"owner\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"punkid\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"punkCreds\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"renounceOwnership\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"to\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"amount\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"reservedCreds\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"saleIsActive\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"newState\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"setSaleState\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"symbol\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"ownwer\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"totalAvailable\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"totalSupply\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"recipient\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"amount\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"transfer\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"sender\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"recipient\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"amount\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"transferFrom\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"newOwner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"transferOwnership\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"unclaimedCreds\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t}\n];\n\nconst style = {\n  backgroundColor: '#ffff02',\n  color: '#000000',\n  fontSize: 'calc(12px + 2vmin)',\n  fontFamily: 'lemon',\n  boxShadow: 'none',\n  borderRadius: '10px',\n  marginTop: '20px',\n\n  '&:hover': {\n      backgroundColor: '#8CFF9B',\n      color: '#ffffff',\n      boxShadow: 'none',\n  }\n}; \n\nconst styleClaim = {\n    backgroundColor: '#ffff02',\n    color: '#000000',\n    fontSize: 'calc(12px + 2vmin)',\n    fontFamily: 'lemon',\n    boxShadow: 'none',\n    borderRadius: '10px',\n    margin: '0 10px 0 0',\n  \n    '&:hover': {\n        backgroundColor: '#27D3CB',\n        color: '#ffffff',\n        boxShadow: 'none',\n    }\n  };\n\nconst styleBuy = {\n    backgroundColor: '#ffff02',\n\t\n    position: 'relative',\n    color: '#000000',\n    fontSize: 'calc(12px + 2vmin)',\n    fontFamily: 'lemon',\n    boxShadow: 'none',\n    borderRadius: '10px',\n  \n    '&:hover': {\n        backgroundColor: '#8CFF9B',\n        color: '#ffffff',\n        boxShadow: 'none',\n    }\n  };\n  \n  const inputProps = {\n    min: 1,\n    max: 20\n  };\n\nclass ClaimButtons extends React.Component {\n  \n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentAccount: null,\n      totalAllowance: 0,\n      isSendingTransaction: false,\n      purchaseNumber: \"1\",\n      hasSaleStarted: false,\n      isMainnet: true,\n      statusString: null,\n      defaultValue: 1,\n      isAuthClaim: 0,\n    }\n    this.textInput = {value: 1};\n    this.updateInput = this.updateInput.bind(this);\n  \n  }\n\n\n  async handleClick() {\n    await this.buyCrates(NFT_CONTRACT_ADDRESS, NFT_ABI,this.textInput.value);\n  }\n\n  async handleAprobal() {\n    await this.aprobalCrates(NFT_CONTRACT_ADDRESS, NFT_ABI,this.textInput.value);\n  }\n\n  async handleClaim() {\n    await this.claimCreds(NFT_CONTRACT_ADDRESS, NFT_ABI,this.textInput.value);\n  }\n\n\n  async componentDidMount() {\n    \n    if (this.ethereum) {\n      return;\n    }\n    \n    this.ethereum = await detectEthereumProvider();\n    if (this.ethereum === null || this.ethereum !== window.ethereum ) {\n      console.log(\"ethereum provider not detected\");\n      this.setState({\n        currentAccount: null,\n      });\n      return;\n    }\n\n    this.web3 = new Web3(this.ethereum);\n\n    if (this.web3 === null) {\n      console.log('web 3 not found');\n      return;\n    }\n    this.nftContract = new this.web3.eth.Contract(\n      NFT_ABI,\n      NFT_CONTRACT_ADDRESS,\n      { gasLimit: \"1000000\" }\n    );\n\n    this.connect()\n\n    /**********************************************************/\n    /* Handle chain (network) and chainChanged (per EIP-1193) */\n    /**********************************************************/\n    const chainId = await this.ethereum.request({ method: 'eth_chainId' });\n    if (chainId !== \"0x1\") {\n      this.setState({isMainnet: false})\n    }\n\n    this.ethereum.on('chainChanged', handleChainChanged);\n    this.ethereum.on('accountsChanged', handleChainChanged);\n    function handleChainChanged(_chainId) {\n      // We recommend reloading the page, unless you must do otherwise\n      window.location.reload();\n    }\n\n    /***********************************************************/\n    /* Handle user accounts and accountsChanged (per EIP-1193) */\n    /***********************************************************/\n    this.ethereum\n      .request({ method: 'eth_accounts' })\n      .then((accounts) => this.handleAccountsChanged(accounts))\n      .catch((err) => {\n        // Some unexpected error.\n        // For backwards compatibility reasons, if no accounts are available,\n        // eth_accounts will return an empty array.\n        console.error(err);\n      });\n\n    // Note that this event is emitted on page load.\n    // If the array of accounts is non-empty, you're already\n    // connected.\n    this.ethereum.on('accountsChanged', () => this.handleAccountsChanged);\n    \n\n  }\n\n  handleAccountsChanged = (accounts) => {\n    if (accounts.length === 0) {\n      this.setState({\n        currentAccount: null,\n      });\n    } else if (accounts[0] !== this.state.currentAccount) {\n      this.setState({\n        currentAccount: accounts[0],\n      });\n      this.updateInitialStates();\n    }\n\n  }\n\n  connect = () => {\n    console.log(this.ethereum);\n    if (this.ethereum === null || this.ethereum === undefined) {\n      alert(\"no wallet\");\n      return;\n    }\n    if (this.state.currentAccount) {\n      console.log(\"account already connected\");\n      return;\n    }\n    this.ethereum\n    .request({ method: 'eth_requestAccounts' })\n    .then((accounts) => this.handleAccountsChanged(accounts))\n    .catch((err) => {\n      if (err.code === 4001) {\n        // EIP-1193 userRejectedRequest error\n        // If this happens, the user rejected the connection request.\n        console.log('Please connect to MetaMask.');\n        \n      } else {\n        console.error(err);\n      }\n    });\n  }\n\n\n  buyCrates = (contractAddress, contractABI, numPurchase) => {\n\n   \n\n    const account = this.state.currentAccount;\n\n    if (account === null) {\n      console.log('no account detected');\n      this.connect();\n      return;\n    }\n    numPurchase=parseInt(numPurchase);\n\n\n    this.setState({\n      isSendingTransaction: true,\n    });\n\n  \n      const encodedAdoptFunction = this.cratesContract.methods.mint(numPurchase).encodeABI();\n\n      const transactionOptions = {\n        from: account,\n        to: contractAddress,\n        data: encodedAdoptFunction,\n        value: 0,\n      };\n      this.web3.eth.sendTransaction(transactionOptions, (err, transactionId) => {\n        if  (err) {\n          console.log('Crates mint failed', err)\n          this.setState({\n            isSendingTransaction: false,\n            statusString: \"Crates mint failed!\"\n          });\n        } else {\n          console.log('Payment successful', transactionId);\n          this.setState({\n            isSendingTransaction: false,\n            statusString: \"Crates mint successful! Please check Metamask for details and refresh when its done.\"\n          });\n        }\n      }).on(\"confirmation\", (confirmationNumber, receipt) => {\n          console.log(\"on confirmation\", confirmationNumber);\n          window.location.reload(false);\n\n      });\n   \n  }\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n\n  aprobalCrates = (contractAddress, contractABI, numPurchase) => {\n\n   \n\n    const account = this.state.currentAccount;\n\n    if (account === null) {\n      console.log('no account detected');\n      this.connect();\n      return;\n    }\n    numPurchase=parseInt(numPurchase);\n    if (numPurchase > 20 || numPurchase < 1) {\n      return;\n    }\n\n    this.setState({\n      isSendingTransaction: true,\n    });\n\n      const amount = Web3.utils.toBN('77000000000000000000000000');\n      const encodedAdoptFunction = this.nftContract.methods.approve(CRATES_CONTRACT_ADDRESS,amount).encodeABI();\n\n      const transactionOptions = {\n        from: account,\n        to: contractAddress,\n        data: encodedAdoptFunction,\n        value: 0,\n      };\n      this.web3.eth.sendTransaction(transactionOptions, (err, transactionId) => {\n        if  (err) {\n          console.log('approve failed', err)\n          this.setState({\n            isSendingTransaction: false,\n            statusString: \"Payment failed!\"\n          });\n        } else {\n          console.log('approve successful', transactionId)\n          this.setState({\n            isSendingTransaction: false,\n            statusString: \"approve successful!.\"\n          });\n          \n        }\n      });\n\n  }\n\n  claimCreds = (contractAddress, contractABI) => {\n\n   \n\n    const account = this.state.currentAccount;\n\n    if (account === null) {\n      console.log('no account detected');\n      return;\n    }\n \n\n    this.setState({\n      isSendingTransaction: true,\n    });\n\n    this.nftContract.methods.totalAvailable(this.state.currentAccount).call().then((unitPrice) => {\n      const encodedAdoptFunction = this.nftContract.methods.claim().encodeABI();\n\n      const transactionOptions = {\n        from: account,\n        to: contractAddress,\n        data: encodedAdoptFunction,\n        value: 0,\n      };\n      this.web3.eth.sendTransaction(transactionOptions, (err, transactionId) => {\n        if  (err) {\n          console.log('Payment failed', err)\n          this.setState({\n            isSendingTransaction: false,\n            statusString: \"Transaction failed!\"\n          });\n        } else {\n          console.log('Payment successful', transactionId)\n          this.setState({\n            isSendingTransaction: false,\n            statusString: \"Claim successful! Please check Metamask for details and refresh when its done.\"\n          });\n        }\n      });\n    });\n  }\n\n\n  updateInitialStates = () => { \n    this.updateTotalAllowance();\n    this.updateHasSaleStarted();\n    this.updateIsAuthClaim();\n  }\n\n  updateTotalAllowance = () => {\n    console.log(\"called totalAllowance\");\n    this.nftContract.methods.allowance(this.state.currentAccount,CRATES_CONTRACT_ADDRESS).call().then((totalAllowance) => {\n      totalAllowance = parseInt(Web3.utils.fromWei(totalAllowance, 'ether'));\n      this.setState({\n        totalAllowance: totalAllowance,\n      });\n    });\n  }\n\n  updateHasSaleStarted = () => {\n    this.nftContract.methods.saleIsActive().call().then((hasSaleStarted) => {\n      this.setState({\n        hasSaleStarted: hasSaleStarted\n      });\n    });\n  }\n\n  updateIsAuthClaim = () => {\n    this.nftContract.methods.totalAvailable(this.state.currentAccount).call().then((isAuthClaim) => {\n      const credsAvaliable = Web3.utils.fromWei(isAuthClaim, 'ether');\n      console.log(credsAvaliable);\n      this.setState({\n        isAuthClaim: credsAvaliable\n      });\n    });\n  }\n\n\n\n\n  updateInput(evt){\n    this.textInput={value: evt.target.value};   \n  }\n\n  render() { \n    return (\n      <div>\n        <div className=\"sticky-cta\">\n           <div className='metamask'> {this.state.hasSaleStarted}\n               {this.state.currentAccount ? (\n                       <Fab style={style} variant=\"extended\">\n                             <b>{this.state.currentAccount.substring(0, 6)}...{this.state.currentAccount.substring(this.state.currentAccount.length -4)}</b>\n                       </Fab>\n                 ) :\n                       <Fab style={style} variant=\"extended\" onClick={() => this.connect()}>\n                           <b>Connect metamask</b>\n                       </Fab>\n                 }\n             </div>\n        </div>\n        <div className=\"App\" >\n    \n          <form noValidate autoComplete=\"off\">\n             \n        \n              {this.state.hasSaleStarted > 0 ? (\n                  <Button style={styleBuy} variant=\"contained\" size=\"large\" onClick={() => this.handleClick()}><b>Mint Supernovas</b></Button>\n                 ) :\n                  <div><br/>\n                  <Button style={styleBuy} variant=\"contained\" size=\"large\" onClick={() => this.handleClick()}><b>Mint SuperNovas</b></Button>&nbsp;\n\t\t\t\t  <TextField style={{maxWidth: \"100px\"}} inputProps={{ style: { background: \"#fff\"} }} variant=\"filled\" onChange={this.updateInput} defaultValue={this.state.defaultValue}  margin=\"dense\" size=\"small\" requiered=\"true\" type=\"number\"/>\n\t\t\t\t  <Button style={styleBuy} variant=\"contained\" size=\"large\" onClick={() => this.handleClick()}><b>Public Mint</b></Button>&nbsp;\n                  </div>\n              } \n\t\t\t  <br/><br/>\n            \n              \n          </form>\n\n        </div>\n      </div>\n     \n    );\n  }\n \n}\n\nexport default ClaimButtons;"]},"metadata":{},"sourceType":"module"}